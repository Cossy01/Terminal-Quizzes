<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Introduction to Terminal Systems</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Fallback: Uncomment and host tailwind.css locally if CDN fails
  <link href="tailwind.css" rel="stylesheet"> -->
  <style>
    body {
      background-color: white;
      min-height: 100vh;
      margin: 0;
      padding: 0;
    }
    .container {
      background: rgb(255, 255, 255);
      position: relative;
      z-index: 1;
      margin: 0 auto;
      box-sizing: border-box;
    }
    .results-table th, .results-table td {
      padding: 8px;
      text-align: center;
      border-bottom: 1px solid #ddd;
      background-color: white;
      vertical-align: middle;
    }
    .results-table th {
      background-color: #f5f5f5;
    }
    .correct { color: green; }
    .incorrect { color: red; }

    @media print {
      body {
        background: white;
      }
      .container {
        background: white;
        box-shadow: none;
        width: 100%;
        max-width: 100%;
      }
      #results-container button {
        display: none;
      }
      .results-table {
        width: 100%;
        border-collapse: collapse;
      }
      .results-table th, .results-table td {
        border: 1px solid #ddd;
      }
    }
  </style>
</head>
<body class="flex items-center justify-center p-4">
  <div id="quiz-container" class="container max-w-md p-6 rounded-lg shadow-lg mx-auto">
    <h1 class="text-2xl font-bold text-center text-gray-800 mb-4">Introduction to Terminal Systems</h1>
    <div id="question-number" class="text-lg text-gray-600 mb-2"></div>
    <div id="question-text" class="text-xl mb-4"></div>
    <form id="options-form" class="space-y-2">
      <label class="block w-full p-3 bg-white rounded hover:bg-gray-100 cursor-pointer">
        <input type="radio" name="answer" value="Discharge" class="mr-2">
        <span class="text-gray-700">Discharge</span>
      </label>
      <label class="block w-full p-3 bg-white rounded hover:bg-gray-100 cursor-pointer">
        <input type="radio" name="answer" value="Loading" class="mr-2">
        <span class="text-gray-700">Loading</span>
      </label>
      <label class="block w-full p-3 bg-white rounded hover:bg-gray-100 cursor-pointer">
        <input type="radio" name="answer" value="Pickup" class="mr-2">
        <span class="text-gray-700">Pickup</span>
      </label>
      <label class="block w-full p-3 bg-white rounded hover:bg-gray-100 cursor-pointer">
        <input type="radio" name="answer" value="Grounding" class="mr-2">
        <span class="text-gray-700">Grounding</span>
      </label>
    </form>
    <div id="feedback" class="mt-4 text-center"></div>
    <div class="flex justify-between mt-4">
      <button id="back-btn" onclick="backQuestion()" class="w-1/2 bg-gray-400 text-white py-2 rounded mr-2 hover:bg-gray-500">Back</button>
      <button id="next-btn" onclick="nextQuestion()" class="w-1/2 bg-blue-800 text-white py-2 rounded hover:bg-blue-900">Next</button>
    </div>
  </div>
  <div id="results-container" class="container max-w-4xl p-6 rounded-lg shadow-lg hidden mx-auto">
    <h1 class="text-2xl font-bold text-center text-gray-800 mb-4">Introduction to Terminal Systems - Results</h1>
    <p class="text-center text-lg mb-4">Your Score: <span id="final-score"></span> out of 25</p>
    <div class="overflow-x-auto">
      <table id="results-table" class="results-table w-full mx-auto"></table>
    </div>
    <div class="mt-4 flex justify-center gap-4">
      <button onclick="printResults()" class="w-40 bg-gray-400 text-white py-2 px-4 rounded hover:bg-gray-500">Print Results</button>
      <button onclick="restartQuiz()" class="w-40 bg-blue-800 text-white py-2 px-4 rounded hover:bg-blue-900">Restart Quiz</button>
    </div>
  </div>

  <script>
    const quizData = [
      {
        question: "What term describes the removal of a container from a vessel?",
        options: ["Discharge", "Loading", "Pickup", "Grounding"],
        correct: "Discharge"
      },
      {
        question: "What process involves putting containers onto a vessel?",
        options: ["Discharge", "Loading", "Pickup", "Grounding"],
        correct: "Loading"
      },
      {
        question: "What activity involves a truck collecting a container from the terminal?",
        options: ["Discharge", "Loading", "Pickup", "Grounding"],
        correct: "Pickup"
      },
      {
        question: "What does grounding refer to in terminal operations?",
        options: ["Removal of a container from a vessel", "Placing a container on the ground or stacking it", "Loading containers onto a truck", "Checking container documents"],
        correct: "Placing a container on the ground or stacking it"
      },
      {
        question: "What is the primary function of gate operations in a terminal?",
        options: ["Stacking containers in the yard", "Checking container info, documents, and security", "Loading containers onto vessels", "Moving containers with yard trucks"],
        correct: "Checking container info, documents, and security"
      },
      {
        question: "What role does the control tower play in terminal operations?",
        options: ["Loads containers onto barges", "Oversees and coordinates all terminal activities", "Stacks containers in the yard", "Performs security checks at gates"],
        correct: "Oversees and coordinates all terminal activities"
      },
      {
        question: "What is the purpose of quay cranes in terminal operations?",
        options: ["Manage moves to inland ports", "Load and unload containers from vessels", "Check container security", "Stack containers in the yard"],
        correct: "Load and unload containers from vessels"
      },
      {
        question: "What does the ISO 6346 standard ensure for containers?",
        options: ["Unique identification and traceability", "Container weight limits", "Container color coding", "Container repair schedules"],
        correct: "Unique identification and traceability"
      },
      {
        question: "What does the category identifier 'U' indicate in a container code?",
        options: ["Detachable equipment", "Freight container", "Trailer or chassis", "Empty container"],
        correct: "Freight container"
      },
      {
        question: "What does the code 'IF' represent in terminal operations?",
        options: ["Outbound Full", "Inbound Full", "Restow Empty", "Shift Empty on Vessel"],
        correct: "Inbound Full"
      },
      {
        question: "What is a stowage block in port operations?",
        options: ["A group of containers stowed together based on POD group", "A type of quay crane", "A security checkpoint", "A yard truck route"],
        correct: "A group of containers stowed together based on POD group"
      },
      {
        question: "What is the first step a driver takes in the GAMS gate pickup service?",
        options: ["Receive a terminal receipt", "Acquire booking using EDI or WEBIES", "Exit the terminal", "Perform a security inspection"],
        correct: "Acquire booking using EDI or WEBIES"
      },
      {
        question: "What happens at the gate out checkout in the GAMS process?",
        options: ["The driver acquires booking", "A final inspection is performed and a receipt is issued", "Containers are stacked", "Quay cranes unload vessels"],
        correct: "A final inspection is performed and a receipt is issued"
      },
      {
        question: "What is the purpose of DACE in terminal systems?",
        options: ["Coordinates terminal activities", "Performs damage inspection with HHT at the gate", "Manages barge movements", "Tracks yard zones"],
        correct: "Performs damage inspection with HHT at the gate"
      },
      {
        question: "What is a yard zone used for in terminal operations?",
        options: ["Restricting truck access", "Logical grouping for monitoring and tracking container activity", "Loading containers onto vessels", "Storing spare parts"],
        correct: "Logical grouping for monitoring and tracking container activity"
      },
      {
        question: "What defines a decentralized grounding mode?",
        options: ["All containers go to a common area", "Containers are grounded in multiple specific locations", "Containers are loaded onto trucks", "Containers are inspected at gates"],
        correct: "Containers are grounded in multiple specific locations"
      },
      {
        question: "How many checkpoints are there in HIT according to the document?",
        options: ["5", "7", "9", "11"],
        correct: "9"
      },
      {
        question: "What is the primary function of IVRS in terminal systems?",
        options: ["Performs damage inspections", "Provides pre-advice, container status, and appointments via phone", "Tracks tractor movements", "Manages stowage blocks"],
        correct: "Provides pre-advice, container status, and appointments via phone"
      },
      {
        question: "What does the TID (Tractor ID Card) track in terminal operations?",
        options: ["Container security checks", "Driver appointments", "Data for container movement", "Vessel schedules"],
        correct: "Data for container movement"
      },
      {
        question: "What is the purpose of the TAS (Tractor Appointment System)?",
        options: ["Inspects containers for damage", "Manages tractor appointments to avoid terminal congestion", "Loads containers onto vessels", "Coordinates barge movements"],
        correct: "Manages tractor appointments to avoid terminal congestion"
      },
      {
        question: "What does the code 'EM' indicate in terminal operations?",
        options: ["Inbound Empty", "General Empty", "Restow Full", "Outbound Full"],
        correct: "General Empty"
      },
      {
        question: "What is a key feature of berth planning in terminal operations?",
        options: ["Assigning berths to vessels and scheduling arrivals/departures", "Stacking containers in the yard", "Performing security checks", "Managing truck pickups"],
        correct: "Assigning berths to vessels and scheduling arrivals/departures"
      },
      {
        question: "What does the frequent mention of 'NGEN' in the document likely indicate?",
        options: ["A specific container type", "A system or process name repeated due to OCR error", "A terminal checkpoint", "A type of quay crane"],
        correct: "A system or process name repeated due to OCR error"
      },
      {
        question: "What is the role of the control tower in relation to barges?",
        options: ["Loads barges directly", "Oversees and coordinates barge movements", "Performs security checks on barges", "Stacks containers from barges"],
        correct: "Oversees and coordinates barge movements"
      },
      {
        question: "What is the purpose of the security inspection at the gate checkpoint in GAMS?",
        options: ["To issue a terminal receipt", "To ensure truck safety and compliance", "To load containers onto trucks", "To schedule vessel arrivals"],
        correct: "To ensure truck safety and compliance"
      }
    ];

    // Shuffle the quizData array when the page loads
    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }
    shuffleArray(quizData);

    let currentQuestion = 0;
    let answers = new Array(quizData.length).fill(null);

    function loadQuestion() {
      try {
        const q = quizData[currentQuestion];
        document.getElementById('question-number').textContent = `Question ${currentQuestion + 1} of ${quizData.length}:`;
        document.getElementById('question-text').textContent = q.question;
        const optionsForm = document.getElementById('options-form');
        optionsForm.innerHTML = '';
        q.options.forEach(option => {
          const label = document.createElement('label');
          label.className = 'block w-full p-3 bg-white rounded hover:bg-gray-100 cursor-pointer';
          label.innerHTML = `<input type="radio" name="answer" value="${option}" class="mr-2"> <span class="text-gray-700">${option}</span>`;
          optionsForm.appendChild(label);
        });
        document.getElementById('feedback').textContent = '';
        document.querySelectorAll('input[name="answer"]').forEach(input => {
          input.disabled = false;
          if (answers[currentQuestion] === input.value) {
            input.checked = true;
          }
        });
        document.getElementById('back-btn').disabled = currentQuestion === 0;
        document.getElementById('next-btn').disabled = false;
      } catch (error) {
        console.error('Error loading question:', error);
      }
    }

    function nextQuestion() {
      try {
        const selectedAnswer = document.querySelector('input[name="answer"]:checked');
        if (!selectedAnswer && currentQuestion < quizData.length - 1) {
          document.getElementById('feedback').textContent = 'Please select an answer!';
          return;
        }

        if (selectedAnswer) {
          answers[currentQuestion] = selectedAnswer.value;
        }

        if (currentQuestion < quizData.length - 1) {
          currentQuestion++;
          loadQuestion();
        } else {
          showResults();
        }
      } catch (error) {
        console.error('Error in nextQuestion:', error);
      }
    }

    function backQuestion() {
      try {
        if (currentQuestion > 0) {
          currentQuestion--;
          loadQuestion();
        }
      } catch (error) {
        console.error('Error in backQuestion:', error);
      }
    }

    function showResults() {
      try {
        document.getElementById('quiz-container').classList.add('hidden');
        document.getElementById('results-container').classList.remove('hidden');

        let score = 0;
        const resultsTable = document.getElementById('results-table');
        resultsTable.innerHTML = '<tr><th>Question</th><th>Your Answer</th><th>Correct Answer</th><th>Status</th></tr>';

        quizData.forEach((q, index) => {
          const userAnswer = answers[index] || 'Not answered';
          const isCorrect = userAnswer === q.correct;
          if (isCorrect) score++;
          const row = document.createElement('tr');
          row.innerHTML = `
            <td>${q.question}</td>
            <td>${userAnswer}</td>
            <td>${q.correct}</td>
            <td class="${isCorrect ? 'correct' : 'incorrect'}">${isCorrect ? 'Correct' : 'Incorrect'}</td>
          `;
          resultsTable.appendChild(row);
        });

        document.getElementById('final-score').textContent = score;
      } catch (error) {
        console.error('Error in showResults:', error);
      }
    }

    function printResults() {
      try {
        window.print();
      } catch (error) {
        console.error('Error in printResults:', error);
      }
    }

    function restartQuiz() {
      try {
        currentQuestion = 0;
        answers.fill(null);
        shuffleArray(quizData);
        document.getElementById('results-container').classList.add('hidden');
        document.getElementById('quiz-container').classList.remove('hidden');
        loadQuestion();
      } catch (error) {
        console.error('Error in restartQuiz:', error);
      }
    }

    loadQuestion();
  </script>
</body>
</html>